{% extends 'base.html.twig' %}
{% block header %}
    {% include 'header/header.general.html.twig' %}
{% endblock %}
{% block content %}
    <h1 class="titleA">Nos Membres</h1>
    {% set role = "" %}
    <article class="containerElement">
        {% for user in users %}
            <section class="menuCrud">
                <h2 class="nameUser">{{ user.pseudonyme }}</h2>
                {% if "ROLE_ADMIN" in user.roles %}
                {% set role = "Administrateur" %}
                {% elseif "ROLE_USER" in user.roles %}
                {% set role = "utilisateur" %}
                {% elseif "ROLE_WAITING" in user.roles %}
                {% set role = "en attente" %}
                {% endif %}
                <span> {{ role }}</span>
                <form method="post" action="{{ path('roleUpdate') }}">
                    <input type="hidden"  name="id" value="{{ user.id }}">
                    <select class="selectRole" name="role" id="role">
                        <option value="">Choisir un role</option>
                        <option value="admin">administrateur</option>
                        <option value="user">utilisateur</option>
                    </select>
                    <input class="inputRole" type="submit">
                    <div class="linkCrud">
                    <p class="logoLink"><i class="bi bi-x-square delete"></i></p>
                    </div>
                    <a class="confirmDelete" href="{{ path('delete_user', {'id' : user.id}) }}"><span class="messageDelete">Confirmer la supression</span></a>
                </form>
            </section>
        {% endfor %}
    </article>
{% endblock%}